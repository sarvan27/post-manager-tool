"use strict";(self.webpackChunkpost_manager_frontend=self.webpackChunkpost_manager_frontend||[]).push([[121],{7121:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var i=n(1413),r=n(1614),o=n(7047),l=n(9434),s=n(3353),u=n(2791),d=n(9439),a=n(4084),c=n(5731),f=n(7026),h=n(3466),p=n(2167),m=n(184),v=(0,a.D)(),x=function(){var e=(0,l.I0)(),t=(0,u.useState)(null),n=(0,d.Z)(t,2),r=n[0],o=n[1],a=(0,l.v9)((function(e){return e.postReducer.allPosts}));return(0,m.jsx)("div",{style:{minHeight:64},children:(0,m.jsx)(c.Z,{value:r,onChange:function(t,n){return function(t){(null!==t&&void 0!==t&&t.id||null===t)&&o(t),e((0,s.F8)(t))}(n)},filterOptions:function(e,t){var n=v(e,t),i=t.inputValue,r=null===e||void 0===e?void 0:e.some((function(e){return i===e.title}));return""===i||r||n.push({inputValue:i,title:'Add "'.concat(i,'"')}),n},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,id:"posts-search-autocomplete-create",options:a||[],getOptionLabel:function(e){return(null===e||void 0===e?void 0:e.title)||""},renderOption:function(e,t){return(0,m.jsx)("li",(0,i.Z)((0,i.Z)({},e),{},{children:t.title}))},sx:{width:300,float:"right"},freeSolo:!0,margin:"dense",size:"small",renderInput:function(e){return(0,m.jsx)(f.Z,(0,i.Z)((0,i.Z)({margin:"dense",size:"small",InputProps:(0,i.Z)((0,i.Z)({},e.InputProps),{},{startAdornment:(0,m.jsx)(h.Z,{position:"start",children:(0,m.jsx)(p.Z,{})})})},e),{},{placeholder:"Search for title"}))}})})},j=n(8820),Z=n(5397),g=n(7621),b=n(9585),y=n(3044),I=n(3400),C=n(890),P=n(9504),w=n(427),S=function(e){var t=e.userId,n=e.id,i=e.title,r=e.body,o=(0,l.I0)();return(0,m.jsxs)(g.Z,{id:"post-item-".concat(n),sx:{marginBottom:2},children:[(0,m.jsx)(b.Z,{avatar:(0,m.jsx)(y.Z,{sx:{width:32,height:32,fontSize:14,bgcolor:w.Z[700]},"aria-label":"user-id",children:t}),action:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(I.Z,{"aria-label":"edit",size:"medium",color:"primary",onClick:function(){o((0,s.Hl)({userId:t,id:n,title:i,body:r}))},children:(0,m.jsx)(j.Z,{})}),(0,m.jsx)(I.Z,{"aria-label":"edit",size:"medium",color:"error",onClick:function(){o((0,s.rd)({userId:t,id:n,title:i,body:r}))},children:(0,m.jsx)(Z.Z,{})})]}),title:(0,m.jsx)(C.Z,{variant:"h6",component:"div",children:i})}),(0,m.jsx)(P.Z,{sx:{paddingTop:0},children:(0,m.jsx)(C.Z,{children:r})})]})},k=(0,u.memo)(S),W=n(5289),z=n(5661),F=n(9157),E=n(7482),R=n(7123),T=n(4294),A=function(){var e=(0,l.I0)(),t=(0,u.useState)(""),n=(0,d.Z)(t,2),r=n[0],o=n[1],a=(0,u.useState)(!1),c=(0,d.Z)(a,2),h=c[0],v=c[1],x=(0,u.useState)({}),j=(0,d.Z)(x,2),Z=j[0],g=j[1],b=(0,l.v9)((function(e){return e.postReducer.preEditPost})),y=(0,l.v9)((function(e){return e.postReducer.addNewPost})),I=(0,l.v9)((function(e){return e.postReducer.editPost}));(0,u.useEffect)((function(){o("")}),[b]),(0,u.useEffect)((function(){g((0,i.Z)((0,i.Z)({},y),{},{userId:"",body:""}))}),[y]),(0,u.useEffect)((function(){g(I)}),[I]);var C=(0,u.useCallback)((function(e,t){var n=(0,i.Z)({},Z);n[e]=t,g(n)})),P=function(){b&&e((0,s.Zd)(!1)),Z.id&&e((0,s.F_)()),"object"===typeof y&&"title"in y&&e((0,s.x4)())},w=function(e,t){var n=(0,u.useState)(e),i=(0,d.Z)(n,2),r=i[0],o=i[1];return(0,u.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r}(r,1e3);return(0,u.useEffect)((function(){v(!1),e((0,s.Ik)(w))}),[w]),(0,m.jsxs)(W.Z,{fullWidth:!0,maxWidth:"sm",open:Boolean(b||"object"===typeof y&&"title"in y||(null===I||void 0===I?void 0:I.id)),onClose:P,children:[(0,m.jsx)(z.Z,{children:b?"Search title":null!==I&&void 0!==I&&I.id?"Update post - ".concat(null===I||void 0===I?void 0:I.id):"Add new post"}),(0,m.jsx)(F.Z,{children:(0,m.jsx)("form",{id:"form-add-or-update-post",onSubmit:function(t){t.preventDefault(),Z.id?e((0,s.CP)(Z)):e((0,s.ed)(Z))},children:b?(0,m.jsxs)("div",{style:{position:"relative"},children:[(0,m.jsx)(f.Z,{value:r,onChange:function(e){return t=e.target.value,v(!0),void o(t);var t},InputProps:{startAdornment:(0,m.jsx)(p.Z,{htmlColor:"gray",sx:{marginRight:1}})},size:"small",autoFocus:!0,margin:"dense",placeholder:"Search for exact title to edit",type:"text",fullWidth:!0,required:!0}),(0,m.jsx)(E.Z,{sx:{position:"absolute",bottom:"4px",right:"2px",width:"99%",visibility:h?"visible":"hidden"}})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(f.Z,{value:null!==Z&&void 0!==Z&&Z.userId?Z.userId:"",onChange:function(e){return C("userId",e.target.value)},InputProps:{inputProps:{min:1}},size:"small",autoFocus:!0,margin:"dense",label:"User ID",type:"number",fullWidth:!0,required:!0}),(0,m.jsx)(f.Z,{value:null!==Z&&void 0!==Z&&Z.title?Z.title:"",onChange:function(e){return C("title",e.target.value)},size:"small",margin:"normal",label:"Title",type:"text",fullWidth:!0,multiline:!0,required:!0}),(0,m.jsx)(f.Z,{value:null!==Z&&void 0!==Z&&Z.body?Z.body:"",onChange:function(e){return C("body",e.target.value)},margin:"normal",size:"small",label:"Body",type:"text",fullWidth:!0,multiline:!0,rows:4,required:!0})]})})}),(0,m.jsxs)(R.Z,{children:[(0,m.jsx)(T.Z,{onClick:P,children:"Cancel"}),!b&&(0,m.jsx)(T.Z,{type:"submit",form:"form-add-or-update-post",color:"primary",variant:"contained",children:null!==I&&void 0!==I&&I.id?"Update":"Create"})]})]})},B=n(1691),D=function(){var e=(0,l.I0)(),t=(0,u.useState)(""),n=(0,d.Z)(t,2),i=n[0],r=n[1],o=(0,l.v9)((function(e){return e.postReducer.deletePost}));(0,u.useEffect)((function(){r("")}),[o]);var a=function(){e((0,s.LW)())};return(0,m.jsxs)(W.Z,{fullWidth:!0,maxWidth:"sm",open:Boolean(null===o||void 0===o?void 0:o.id),onClose:a,children:[(0,m.jsx)(z.Z,{children:"Are you sure you want to delete the below post ?"}),(0,m.jsxs)(F.Z,{children:[(0,m.jsxs)(B.Z,{children:[(0,m.jsx)("strong",{children:"User ID:"}),"\xa0",null===o||void 0===o?void 0:o.userId,(0,m.jsx)("br",{}),(0,m.jsx)("strong",{children:"Title:"}),"\xa0",null===o||void 0===o?void 0:o.title,(0,m.jsx)("br",{}),(0,m.jsx)("strong",{children:"Body:"}),"\xa0",null===o||void 0===o?void 0:o.body]}),(0,m.jsx)("form",{id:"form-delete-post",onSubmit:function(t){t.preventDefault(),e((0,s.M8)(i,o.id))},children:(0,m.jsx)(f.Z,{value:i,onChange:function(e){return r(e.target.value)},margin:"normal",size:"small",label:"Feedback",type:"text",fullWidth:!0,multiline:!0,rows:4,required:!0,helperText:"Please provide valuable feedback to delete this post!"})})]}),(0,m.jsxs)(R.Z,{children:[(0,m.jsx)(T.Z,{onClick:a,children:"Cancel"}),(0,m.jsx)(T.Z,{type:"submit",form:"form-delete-post",color:"primary",variant:"contained",children:"Delete"})]})]})};var q=function(){var e=(0,l.I0)(),t=(0,l.v9)((function(e){return e.postReducer.allPostsLoading})),n=(0,l.v9)((function(e){return e.postReducer.viewablePosts}));return(0,u.useEffect)((function(){e((0,s.T6)())}),[e]),(0,m.jsx)(r.Z,{maxWidth:"md",style:{marginTop:64},children:t?(0,m.jsx)(m.Fragment,{children:Array(10).fill(0).map((function(e,t){return(0,m.jsx)(o.Z,{height:66,width:"100%"},t)}))}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(x,{}),(0,m.jsx)("div",{children:(null===n||void 0===n?void 0:n.length)>0&&n.map((function(e,t){return(0,m.jsx)(k,(0,i.Z)({},e),t)}))}),(0,m.jsx)(A,{}),(0,m.jsx)(D,{})]})})}}}]);
//# sourceMappingURL=121.80621870.chunk.js.map