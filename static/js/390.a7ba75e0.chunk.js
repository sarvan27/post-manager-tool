"use strict";(self.webpackChunkpost_manager_frontend=self.webpackChunkpost_manager_frontend||[]).push([[390],{4390:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var i=n(1413),r=n(1614),l=n(7047),o=n(9434),d=n(2534),s=n(2791),u=n(9439),a=n(4084),c=n(5731),p=n(7026),f=n(3466),h=n(2167),v=n(184),m=(0,a.D)(),x=function(){var e=(0,o.I0)(),t=(0,s.useState)(null),n=(0,u.Z)(t,2),r=n[0],l=n[1],a=(0,o.v9)((function(e){return e.postReducer.allPosts})),x=function(t){(null!==t&&void 0!==t&&t.id||null===t)&&l(t),e(function(e){return{type:d.FR,payload:e}}(t))};return(0,v.jsx)("div",{style:{minHeight:64},children:(0,v.jsx)(c.Z,{value:r,onChange:function(e,t){return x(t)},filterOptions:function(e,t){var n=m(e,t),i=t.inputValue,r=null===e||void 0===e?void 0:e.some((function(e){return i===e.title}));return""===i||r||n.push({inputValue:i,title:'Add "'.concat(i,'"')}),n},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,id:"posts-search-autocomplete-create",options:a||[],getOptionLabel:function(e){return(null===e||void 0===e?void 0:e.title)||""},renderOption:function(e,t){return(0,v.jsx)("li",(0,i.Z)((0,i.Z)({},e),{},{children:t.title}))},sx:{width:300,float:"right"},freeSolo:!0,margin:"dense",size:"small",renderInput:function(e){return(0,v.jsx)(p.Z,(0,i.Z)((0,i.Z)({margin:"dense",size:"small",InputProps:(0,i.Z)((0,i.Z)({},e.InputProps),{},{startAdornment:(0,v.jsx)(f.Z,{position:"start",children:(0,v.jsx)(h.Z,{})})})},e),{},{placeholder:"Search for title"}))}})})},j=n(8820),Z=n(5397),y=n(7621),b=n(9585),g=n(3044),I=n(3400),C=n(890),k=n(9504),w=n(427),P=function(e){var t=e.userId,n=e.id,i=e.title,r=e.body,l=(0,o.I0)();return(0,v.jsxs)(y.Z,{id:"post-item-".concat(n),sx:{marginBottom:2},children:[(0,v.jsx)(b.Z,{avatar:(0,v.jsx)(g.Z,{sx:{width:32,height:32,fontSize:14,bgcolor:w.Z[700]},"aria-label":"user-id",children:t}),action:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(I.Z,{"aria-label":"edit",size:"medium",color:"primary",onClick:function(){var e;l((e={userId:t,id:n,title:i,body:r},{type:d.dy,payload:e}))},children:(0,v.jsx)(j.Z,{})}),(0,v.jsx)(I.Z,{"aria-label":"edit",size:"medium",color:"error",onClick:function(){var e;l((e={userId:t,id:n,title:i,body:r},{type:d.G,payload:e}))},children:(0,v.jsx)(Z.Z,{})})]}),title:(0,v.jsx)(C.Z,{variant:"h6",component:"div",children:i})}),(0,v.jsx)(k.Z,{sx:{paddingTop:0},children:(0,v.jsx)(C.Z,{children:r})})]})},z=(0,s.memo)(P),F=n(5289),W=n(5661),S=n(9157),R=n(7123),B=n(4294),D=function(){var e=(0,o.I0)(),t=(0,s.useState)({}),n=(0,u.Z)(t,2),r=n[0],l=n[1],a=(0,o.v9)((function(e){return e.postReducer.addNewPost})),c=(0,o.v9)((function(e){return e.postReducer.editPost}));(0,s.useEffect)((function(){l((0,i.Z)((0,i.Z)({},a),{},{userId:"",body:""}))}),[a]),(0,s.useEffect)((function(){l(c)}),[c]);var f=(0,s.useCallback)((function(e,t){var n=(0,i.Z)({},r);n[e]=t,l(n)})),h=function(){r.id?e({type:d.F5}):e({type:d.Fb})};return(0,v.jsxs)(F.Z,{fullWidth:!0,maxWidth:"sm",open:Boolean((null===a||void 0===a?void 0:a.title)||(null===c||void 0===c?void 0:c.id)),onClose:h,children:[(0,v.jsx)(W.Z,{children:null!==c&&void 0!==c&&c.id?"Update post - ".concat(null===c||void 0===c?void 0:c.id):"Add new post"}),(0,v.jsx)(S.Z,{children:(0,v.jsxs)("form",{id:"form-add-or-update-post",onSubmit:function(t){var n;t.preventDefault(),r.id?e((n=r,{type:d.vG,payload:n})):e(function(e){return{type:d.$7,payload:e}}(r))},children:[(0,v.jsx)(p.Z,{value:null!==r&&void 0!==r&&r.userId?r.userId:"",onChange:function(e){return f("userId",e.target.value)},InputProps:{inputProps:{min:1}},size:"small",autoFocus:!0,margin:"dense",label:"User ID",type:"number",fullWidth:!0,required:!0}),(0,v.jsx)(p.Z,{value:null!==r&&void 0!==r&&r.title?r.title:"",onChange:function(e){return f("title",e.target.value)},size:"small",margin:"normal",label:"Title",type:"text",fullWidth:!0,multiline:!0,required:!0}),(0,v.jsx)(p.Z,{value:null!==r&&void 0!==r&&r.body?r.body:"",onChange:function(e){return f("body",e.target.value)},margin:"normal",size:"small",label:"Body",type:"text",fullWidth:!0,multiline:!0,rows:4,required:!0})]})}),(0,v.jsxs)(R.Z,{children:[(0,v.jsx)(B.Z,{onClick:h,children:"Cancel"}),(0,v.jsx)(B.Z,{type:"submit",form:"form-add-or-update-post",color:"primary",variant:"contained",children:null!==a&&void 0!==a&&a.title?"Create":"Update"})]})]})},E=n(1691),A=function(){var e=(0,o.I0)(),t=(0,s.useState)(""),n=(0,u.Z)(t,2),i=n[0],r=n[1],l=(0,o.v9)((function(e){return e.postReducer.deletePost}));(0,s.useEffect)((function(){r("")}),[l]);var a=function(){e({type:d.yL})};return(0,v.jsxs)(F.Z,{fullWidth:!0,maxWidth:"sm",open:Boolean(null===l||void 0===l?void 0:l.id),onClose:a,children:[(0,v.jsx)(W.Z,{children:"Are you sure you want to delete the below post ?"}),(0,v.jsxs)(S.Z,{children:[(0,v.jsxs)(E.Z,{children:[(0,v.jsx)("strong",{children:"User ID:"}),"\xa0",null===l||void 0===l?void 0:l.userId,(0,v.jsx)("br",{}),(0,v.jsx)("strong",{children:"Title:"}),"\xa0",null===l||void 0===l?void 0:l.title,(0,v.jsx)("br",{}),(0,v.jsx)("strong",{children:"Body:"}),"\xa0",null===l||void 0===l?void 0:l.body]}),(0,v.jsx)("form",{id:"form-delete-post",onSubmit:function(t){t.preventDefault(),e(function(e,t){return{type:d.Xv,payload:{feedback:e,id:t}}}(i,l.id))},children:(0,v.jsx)(p.Z,{value:i,onChange:function(e){return r(e.target.value)},margin:"normal",size:"small",label:"Feedback",type:"text",fullWidth:!0,multiline:!0,rows:4,required:!0,helperText:"Please provide valuable feedback to delete this post!"})})]}),(0,v.jsxs)(R.Z,{children:[(0,v.jsx)(B.Z,{onClick:a,children:"Cancel"}),(0,v.jsx)(B.Z,{type:"submit",form:"form-delete-post",color:"primary",variant:"contained",children:"Delete"})]})]})};var O=function(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.postReducer.allPostsLoading})),n=(0,o.v9)((function(e){return e.postReducer.viewablePosts}));return(0,s.useEffect)((function(){e({type:d.mE})}),[e]),(0,v.jsx)(r.Z,{maxWidth:"md",style:{marginTop:64},children:t?(0,v.jsx)(v.Fragment,{children:Array(10).fill(0).map((function(e,t){return(0,v.jsx)(l.Z,{height:66,width:"100%"},t)}))}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(x,{}),(0,v.jsx)("div",{children:(null===n||void 0===n?void 0:n.length)>0&&n.map((function(e,t){return(0,v.jsx)(z,(0,i.Z)({},e),t)}))}),(0,v.jsx)(D,{}),(0,v.jsx)(A,{})]})})}}}]);
//# sourceMappingURL=390.a7ba75e0.chunk.js.map